<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="6WAYw55ioji2erHb-5NbNj-1UUxXejHX_e_PDEOf1Wg" />
    <meta name="google-adsense-account" content="ca-pub-7255009353291623">
    <title>NFL Weather Forecast - WxFantasyFootball</title>
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/killenden/NFL_stats/main/docs/images/jared_goff.png">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        nav {
            background-color: #333;
            overflow: hidden;
            text-align: center;
        }
        nav a {
            float: none; 
            display: inline-block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }
        nav a:hover {
            background-color: #ddd;
            color: black;
        }
        nav a.active {
            background-color: #04AA6D;
        }
        .hero-section {
            background-image: url('https://raw.githubusercontent.com/killenden/NFL_stats/main/docs/images/ford_field.jpg');
            background-size: cover;
            background-position: center;
            height: 400px; 
            position: relative;
            width: 100vw;
        }
        .hero-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 30px;
            border-radius: 5px;
            text-align: center;
        }
        .about-section {
            background-color: #f9f9f9;
            padding: 40px 20px;
            margin: 30px 0;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .weather-section {
            background-color: white;
            padding: 30px 20px;
            margin: 30px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .table-container {
            overflow-x: auto;
            margin-top: 20px;
        }
        .stats-highlight {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 8px;
            margin: 30px 0;
        }
        .copyright {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            font-size: 0.9em;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
            background: white;
        }
        
        th, td {
            padding: 12px 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background-color: #333;
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        tr:hover {
            background-color: #f8f9fa;
        }
        
        .game-matchup {
            font-weight: 600;
            color: #333;
            min-width: 220px;
        }
        
        .venue {
            color: #7f8c8d;
            font-style: italic;
        }
        
        .temperature {
            font-weight: bold;
            color: #e74c3c;
        }
        
        .wind {
            color: #3498db;
        }
        
        .weather-impact {
            font-weight: 500;
            padding: 6px 10px;
            border-radius: 20px;
            text-align: center;
            min-width: 180px;
        }
        
        .impact-minimal {
            background-color: #d5f4e6;
            color: #155724;
        }
        
        .impact-favorable {
            background-color: #d1ecf1;
            color: #0c5460;
        }
        
        .impact-moderate {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .impact-high {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .roof-indoor {
            background-color: #e8f5e8;
            color: #155724;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.85em;
        }
        
        .roof-open {
            background-color: #e3f2fd;
            color: #0d47a1;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.85em;
        }
        
        .roof-retractable {
            background-color: #fff8e1;
            color: #ff8f00;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.85em;
        }
        
        .kickoff-time {
            font-family: monospace;
            color: #6c757d;
        }
        
        @media (max-width: 768px) {
            table {
                font-size: 12px;
            }
            
            th, td {
                padding: 8px 4px;
            }
        }
    </style>
</head>
<body>
    <div class="hero-section">
        <div class="hero-text">
            <h1>�️ NFL Weather Forecast</h1>
            <p>Game Day Weather Conditions - August 23, 2025</p>
        </div>
    </div>
    
    <nav>
        <a href="index.html">Home</a>
        <a href="player.html">Player</a> 
        <a href="team.html">Team</a>
        <a href="sleeper.html">Sleeper</a>
        <a href="about.html">About</a>
        <a href="weather.html" class="active">Weather</a>
    </nav>

    <div class="container">
        <div class="stats-highlight">
            <h2>⚡ Live Weather Impact Analysis</h2>
            <p>Real-time weather forecasts for all NFL games with fantasy impact assessments</p>
        </div>

        <div class="about-section">
            <h2>Weather Forecast Summary</h2>
            <p>This page provides comprehensive weather forecasts for NFL games, including temperature, wind conditions, precipitation, and potential fantasy football impact. Data is sourced from GFS (Global Forecast System) models and updated regularly.</p>
        </div>

        <div class="weather-section">
            <h2>Game Day Weather Conditions</h2>
        
        <div class="table-container">
            <table id="weatherTable">
                <thead>
                    <tr>
                        <th>Game</th>
                        <th>Venue</th>
                        <th>Location</th>
                        <th>Roof</th>
                        <th>Kickoff (UTC)</th>
                        <th>Temp (°F)</th>
                        <th>Feels Like</th>
                        <th>Wind</th>
                        <th>Clouds</th>
                        <th>Precip</th>
                        <th>Weather Impact</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Data will be populated by JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <script>

    // Path to csv
    const csvFilePath = 'weather/gfs_forecasts/nfl_forecast.csv';

        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(',');
            const data = [];
            for (let i = 1; i < lines.length; i++) {
                const values = lines[i].split(',');
                const row = {};
                for (let j = 0; j < headers.length; j++) {
                    row[headers[j]] = values[j];
                }
                data.push(row);
            }
            return data;
        }

        // Fetch CSV from file and populate table
        function populateTable() {
            fetch(csvFilePath)
                .then(response => {
                    if (!response.ok) throw new Error('CSV file not found.');
                    return response.text();
                })
                .then(csv => {
                    const data = parseCSV(csv);
                    const tbody = document.getElementById('tableBody');
                    tbody.innerHTML = '';
                    data.forEach(row => {
                        const tr = document.createElement('tr');
                        const windDir = getWindDirection(parseFloat(row.wind_dir));
                        const kickoffFormatted = formatKickoffTime(row.kickoff_utc);
                        tr.innerHTML = `
                            <td class="game-matchup">${row.game}</td>
                            <td class="venue">${row.venue}</td>
                            <td>${row.city}, ${row.state}</td>
                            <td><span class="${getRoofClass(row.roof_type)}">${row.roof_type}</span></td>
                            <td class="kickoff-time">${kickoffFormatted}</td>
                            <td class="temperature">${Math.round(row.temp_f)}°F</td>
                            <td>${Math.round(row.feels_like_f)}°F</td>
                            <td class="wind">${Math.round(row.wind_mph)} mph ${windDir}</td>
                            <td>${row.cloud_cover_pct}%</td>
                            <td>${row.precip_in}"</td>
                            <td><span class="weather-impact ${getWeatherImpactClass(row.weather_impact)}">${row.weather_impact}</span></td>
                        `;
                        tbody.appendChild(tr);
                    });
                })
                .catch(error => {
                    const tbody = document.getElementById('tableBody');
                    tbody.innerHTML = `<tr><td colspan="11">Error loading weather data: ${error.message}</td></tr>`;
                });
        }
        // ...existing code...
        function getWeatherImpactClass(impact) {
            if (impact.toLowerCase().includes('minimal')) return 'impact-minimal';
            if (impact.toLowerCase().includes('favorable')) return 'impact-favorable';
            if (impact.toLowerCase().includes('high winds') || impact.toLowerCase().includes('very hot')) return 'impact-high';
            return 'impact-moderate';
        }

        function getRoofClass(roofType) {
            if (roofType.toLowerCase() === 'closed') return 'roof-indoor';
            if (roofType.toLowerCase() === 'open') return 'roof-open';
            if (roofType.toLowerCase() === 'retractable') return 'roof-retractable';
            return '';
        }

        function formatKickoffTime(utcTime) {
            const date = new Date(utcTime);
            return date.toLocaleString('en-US', {
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                timeZoneName: 'short'
            });
        }

        function getWindDirection(degrees) {
            const directions = ['N', 'NNE', 'NE', 'ENE', 'E', 'ESE', 'SE', 'SSE', 'S', 'SSW', 'SW', 'WSW', 'W', 'WNW', 'NW', 'NNW'];
            const index = Math.round(degrees / 22.5) % 16;
            return directions[index];
        }

        // Populate the table when the page loads
        document.addEventListener('DOMContentLoaded', populateTable);
    </script>

    <div class="copyright">
        <p>Copyright © 2025 Kyle Illenden, Anthony Illenden. Released under MIT License.</p>
        <p>WxFantasyFootball - Weather insights for fantasy football success</p>
    </div>
</body>
</html>
